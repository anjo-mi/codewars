<h2><a href=https://www.codewars.com/kata/56ba8a9b022c16017d0001f3/train/javascript target="_blank">Sequence generator</a></h2><h3>7 kyu</h3><p>Implement function <code>sequence</code>, which returns new <code>n</code>-size Array filled according to <code>pattern</code>.</p><p><code>pattern</code> may be:</p><ul><li>a <code>function</code> that takes two: <code>(element, index)</code>, one: <code>(element)</code> or any arguments (similar to <code>map</code> function), then filled running this function, in other words: <strong>function describes sequence</strong>,</li><li>number, string or any other object, then filled by copying, this object <code>n</code>-times.</li></ul><p><strong>Examples:</strong></p><pre><code class="language-javascript"><span class="cm-variable">sequence</span>(<span class="cm-number">3</span>, <span class="cm-number">4</span>); <span class="cm-comment">// [4, 4, 4]</span><span class="cm-variable">sequence</span>(<span class="cm-number">5</span>, []); <span class="cm-comment">// [[], [], [], [], []]</span><span class="cm-variable">sequence</span>(<span class="cm-number">2</span>, <span class="cm-string">"s"</span>); <span class="cm-comment">// ["s", "s"]</span><span class="cm-variable">sequence</span>(<span class="cm-number">5</span>, (<span class="cm-def">x</span>, <span class="cm-def">idx</span>) <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">idx</span><span class="cm-operator">%</span><span class="cm-number">2</span>) <span class="cm-comment">// [0, 1, 0, 1, 0];</span><span class="cm-variable">sequence</span>(<span class="cm-number">10</span>, (<span class="cm-def">x</span>, <span class="cm-def">idx</span>) <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">idx</span><span class="cm-operator">+</span><span class="cm-number">1</span>) <span class="cm-comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></code></pre><p><em>Note:</em> Sequences are great to work with functional methods like <code>map</code>, <code>reduce</code>, <code>forEach</code>, <code>every</code> or <code>any</code>. For example:</p><pre><code class="language-javascript"><span class="cm-comment">// sum of numbers 1-10</span><span class="cm-keyword">let</span> <span class="cm-def">sum</span> <span class="cm-operator">=</span> <span class="cm-variable">sequence</span>(<span class="cm-number">10</span>, (<span class="cm-def">x</span>, <span class="cm-def">idx</span>) <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">idx</span><span class="cm-operator">+</span><span class="cm-number">1</span>).<span class="cm-property">reduce</span>((<span class="cm-def">sum</span>, <span class="cm-def">num</span>) <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">sum</span> <span class="cm-operator">+</span> <span class="cm-variable-2">num</span>);</code></pre><p>Be careful with long sequences. They are just arrays, every element is created when function is called.</p><p>For <a href="https://en.wikipedia.org/wiki/Lazy_evaluation" data-turbolinks="false" target="_blank">lazy sequences</a> (elements created when needed) use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" data-turbolinks="false" target="_blank">Iterator</a>.</p>